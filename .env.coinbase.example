# Coinbase Commerce Configuration Template
# 将以下变量添加到你的 .env.local 或 .env 文件中

# ============================================
# Coinbase Commerce API Keys
# ============================================
# 从 Coinbase Commerce Dashboard 获取
# 访问: https://commerce.coinbase.com/settings/api-keys

# API Key - 用于创建 Charge
COINBASE_COMMERCE_API_KEY=your_api_key_here_xxxxxxxxxxxxxxxx

# Webhook Secret - 用于验证 Webhook 签名
# 访问: https://commerce.coinbase.com/settings/webhooks
COINBASE_COMMERCE_WEBHOOK_SECRET=your_webhook_secret_here_xxxxxxxxxxxxxxxx

# ============================================
# Webhook Configuration
# ============================================
# Webhook URL - 必须是 HTTPS，且指向你的后端
# 格式: https://yourdomain.com/api/webhooks/coinbase
# 在 Coinbase Dashboard 中配置此 URL
NEXT_PUBLIC_COINBASE_WEBHOOK_URL=https://yourdomain.com/api/webhooks/coinbase

# ============================================
# Optional: Coinbase Commerce Settings
# ============================================
# 支持的加密货币 (逗号分隔)
COINBASE_SUPPORTED_CRYPTOS=BTC,ETH,USDC,USDT,DAI

# 定价类型: 'fixed_price' 或 'no_price_data'
# - fixed_price: 加密金额固定，美元金额可能变化
# - no_price_data: 实时汇率转换
COINBASE_PRICING_TYPE=fixed_price

# Charge 过期时间 (单位: 秒，默认 3600 = 1 小时)
COINBASE_CHARGE_EXPIRY=3600

# ============================================
# 其他支付提供商配置（已有）
# ============================================
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxx
STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxx

# ============================================
# 说明
# ============================================
# 1. 获取 API Key:
#    - 登录 Coinbase Commerce: https://commerce.coinbase.com/
#    - 点击 "Settings" → "API Keys"
#    - 创建新 API Key，复制到 COINBASE_COMMERCE_API_KEY
#
# 2. 获取 Webhook Secret:
#    - 在 Settings 中找到 "Webhooks"
#    - 创建新 Webhook，获取 Secret
#    - Webhook Endpoint URL: https://yourdomain.com/api/webhooks/coinbase
#
# 3. 部署前检查清单:
#    ☐ API Key 已添加
#    ☐ Webhook Secret 已添加
#    ☐ Webhook URL 在 Coinbase 中已配置
#    ☐ Webhook URL 是 HTTPS
#    ☐ 环境变量已加载到部署环境
#
# 4. 测试建议:
#    - 在 Coinbase Dashboard 中测试 Webhook (Send Test Event)
#    - 检查后端日志中是否收到 Webhook
#    - 验证订单状态是否正确更新
